"use strict";(self.webpackChunkmeteoscientific=self.webpackChunkmeteoscientific||[]).push([[678],{4731:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var n=i(4848),o=i(8453);const s={sidebar_position:10,title:"Setting Up Integrations"},a="Let's Integrate",r={id:"tutorial-basics/chirpstack-integrations",title:"Setting Up Integrations",description:"Ok, all of LoRaWAN is cool, but Integrations are one of the coolest parts.",source:"@site/docs/tutorial-basics/010-chirpstack-integrations.md",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/chirpstack-integrations",permalink:"/docs/tutorial-basics/chirpstack-integrations",draft:!1,unlisted:!1,editUrl:"https://github.com/gristlekinginc/metsci-site-v2/tree/main/docs/tutorial-basics/010-chirpstack-integrations.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,title:"Setting Up Integrations"},sidebar:"tutorialSidebar",previous:{title:"Structure Your Data",permalink:"/docs/tutorial-basics/good-housekeeping-for-LoRaWAN-sensor-fleets"},next:{title:"Finding Docs",permalink:"/docs/tutorial-extras/documentation"}},l={},d=[{value:"MQTT Workaround",id:"mqtt-workaround",level:3},{value:"Other Integrations",id:"other-integrations",level:3},{value:"HTTP Integrations On Chirpstack",id:"http-integrations-on-chirpstack",level:2},{value:"The Integration Fields",id:"the-integration-fields",level:3},{value:"Setting Up The Integration",id:"setting-up-the-integration",level:3},{value:"You&#39;ve Been Integrated!",id:"youve-been-integrated",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components},{ConsoleButton:i}=t;return i||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ConsoleButton",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"lets-integrate",children:"Let's Integrate"}),"\n",(0,n.jsxs)(t.p,{children:["Ok, all of LoRaWAN is cool, but ",(0,n.jsx)(t.code,{children:"Integrations"})," are one of the coolest parts."]}),"\n",(0,n.jsx)(t.p,{children:"Integrations are what allow you to get the data that you've collected on your device and routed to the Console to the real world to do work, whether that's flipping a switch, lighting up a dashboard, or tracking a sled."}),"\n",(0,n.jsx)(t.p,{children:"Natively, ChirpStack offers a bunch of different integrations:"}),"\n",(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px auto"},children:(0,n.jsx)("img",{src:"/images/tutorial-basics/010-integrations/available-chirpstack-integrations.png",alt:"Chirpstack has multiple integrations available, including MQTT, AWS, and HTTP",style:{maxWidth:"800px",width:"100%",borderRadius:"8px",border:"4px solid var(--metsci-primary)",boxShadow:"0 4px 12px rgba(217, 74, 24, 0.15)"}})}),"\n",(0,n.jsx)(t.h3,{id:"mqtt-workaround",children:"MQTT Workaround"}),"\n",(0,n.jsxs)(t.p,{children:["We'll start with the first and most confusing for many MetSci Console users, which is ",(0,n.jsx)(t.code,{children:"MQTT"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["In a normal ",(0,n.jsx)(t.em,{children:"non-Helium"}),' ChirpStack instance, you can use MQTT without any issue. MQTT is how many "normal" LNS operators send data off their Console.']}),"\n",(0,n.jsxs)(t.p,{children:["However, in a public Helium ChirpStack instance like MeteoScientific's, we have a problem.  The Chirpstack native MQTT integration uses an internal MQTT broker, which would mean ",(0,n.jsx)(t.em,{children:"your"})," broker is also ",(0,n.jsx)(t.em,{children:"my"})," broker.  That's not a safe way set things up."]}),"\n",(0,n.jsx)(t.p,{children:"As much as we trust each other to swap MQTT spit, I can't trust every asshole on the internet to not try any funny business on a public, permissionless Console.  This means that for security reasons, we don't offer a native MQTT integration."}),"\n",(0,n.jsxs)(t.p,{children:["This means if you want to use MQTT on the MeteoScientific Console you'll need to use an ",(0,n.jsx)(t.code,{children:"http integration"})," to forward to an MQTT broker YOU own and control."]}),"\n",(0,n.jsx)(t.h3,{id:"other-integrations",children:"Other Integrations"}),"\n",(0,n.jsxs)(t.p,{children:["Other integrations exist in our Chirpstack; you can send your data to AWS SNS, Azure Service-Bus, GCP Pub/Sub, IFTT, InfluxDB, and more. They're all rad in their own way, but today we're going to focus on the most straighforward integration, one we've already mentioned:  An ",(0,n.jsx)(t.code,{children:"http integration"})]}),"\n",(0,n.jsx)(t.h2,{id:"http-integrations-on-chirpstack",children:"HTTP Integrations On Chirpstack"}),"\n",(0,n.jsxs)(t.p,{children:["You'll find Integrations in any given ",(0,n.jsx)(t.code,{children:"Application"}),". For this tutorial, I'm going to use the ",(0,n.jsx)(t.code,{children:"Milesight Table Service"})," application, which is a way to use a Milesight WS101 button to call for a waiter at a restaurant."]}),"\n",(0,n.jsxs)(t.p,{children:["Once I'm in ",(0,n.jsx)(t.code,{children:"Application --\x3e Milesight Table Service --\x3e Integrations"})," I look for the big ",(0,n.jsx)(t.code,{children:"HTTP://"})," box:"]}),"\n",(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px auto"},children:(0,n.jsx)("img",{src:"/images/tutorial-basics/010-integrations/find-integrations-in-applications.png",alt:"Setting up an integration in Chirpstack, start with the Application.",style:{maxWidth:"800px",width:"100%",borderRadius:"8px",border:"4px solid var(--metsci-primary)",boxShadow:"0 4px 12px rgba(217, 74, 24, 0.15)"}})}),"\n",(0,n.jsx)(t.h3,{id:"the-integration-fields",children:"The Integration Fields"}),"\n",(0,n.jsxs)(t.p,{children:["Hit the ",(0,n.jsx)(t.code,{children:"+"})," sign and it'll bring up the window asking for your details, including"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"how you're going to encode your payload (we're going to use JSON)"}),"\n",(0,n.jsx)(t.li,{children:"where it should send it to"}),"\n",(0,n.jsx)(t.li,{children:"if you want to add any headers."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"You can use headers to customize payload formatting, support specific API requirements, or in our case, enable authentication tokens.  Relax, I'll give you all of these just a little further down."}),"\n",(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px auto"},children:(0,n.jsx)("img",{src:"/images/tutorial-basics/010-integrations/add-http-integration.png",alt:"HTTP Integration settings on Helium Chirpstack.",style:{maxWidth:"800px",width:"100%",borderRadius:"8px",border:"4px solid var(--metsci-primary)",boxShadow:"0 4px 12px rgba(217, 74, 24, 0.15)"}})}),"\n",(0,n.jsxs)(t.p,{children:["Now, you may (like I was) be so excited about LoRaWAN that you just fired up a device, got stoked to see it ",(0,n.jsx)(t.code,{children:"JOIN"})," and get a few uplinks in the Concole, and then wonder, but but but...is it REALLY working?"]}),"\n",(0,n.jsxs)(t.p,{children:["I knew you'd be excited about it, so I built an ",(0,n.jsx)(t.code,{children:"endpoint"})," for you to test your setup right now."]}),"\n",(0,n.jsx)(t.h3,{id:"setting-up-the-integration",children:"Setting Up The Integration"}),"\n",(0,n.jsxs)(t.p,{children:["We're start by choosing the type of Payload encoding we're doing.  I'm using ",(0,n.jsx)(t.code,{children:"JSON"})," for the Milesight button."]}),"\n",(0,n.jsxs)(t.p,{children:["Next, we'll fill in the ",(0,n.jsx)(t.code,{children:"endpoint"}),".  This is the place you want your data to go."]}),"\n",(0,n.jsxs)(t.p,{children:["In this case, I've set up a public test endpoint for you over at ",(0,n.jsx)(t.a,{href:"http://testpoint.meteoscientific.com",children:(0,n.jsx)(t.code,{children:"testpoint.meteoscientific.com"})}),".  You can use it for this tutorial or any time you want to just double check everything is working."]}),"\n",(0,n.jsxs)(t.p,{children:["Head over there and copy the endpoint URL, then paste it into your integration.  Then click the ",(0,n.jsx)(t.code,{children:"+ Add header"})," button and add two headers:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"Key"}),": ",(0,n.jsx)(t.code,{children:"Authorization"})]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"Value"}),": ",(0,n.jsx)(t.code,{children:"Bearer ACCzkUp4wSEbcI4ZApEBmVf2y4csa7EGoYkugLOyug"})]}),"\n"]}),"\n",(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px auto"},children:(0,n.jsx)("a",{href:"http://testpoint.meteoscientific.com",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)("img",{src:"/images/tutorial-basics/010-integrations/meteoscientific-test-endpoint.png",alt:"A test endpoint you can use for your LoRaWAN packets",style:{maxWidth:"800px",width:"100%",borderRadius:"8px",border:"4px solid var(--metsci-primary)",boxShadow:"0 4px 12px rgba(217, 74, 24, 0.15)"}})})}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:"Anything you send to the PUBLIC test endpoint is PUBLIC.  Your DEVEUI will display (just like it's on the outside of the device box when you get it) as well as the gateway that's receiving your data and a few radio quality signals."})}),"\n",(0,n.jsx)(t.p,{children:"This is what it will look like."}),"\n",(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px auto"},children:(0,n.jsx)("img",{src:"/images/tutorial-basics/010-integrations/filled-in-http-integration.png",alt:"When your http integration is filled in in the MeteoScientific Chirpstack, it'll look like this.",style:{maxWidth:"800px",width:"100%",borderRadius:"8px",border:"4px solid var(--metsci-primary)",boxShadow:"0 4px 12px rgba(217, 74, 24, 0.15)"}})}),"\n",(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsx)(t.p,{children:'Using "Bearer" in front of the token is a best practice following the OAuth 2.0 standard specificing the authentication method in the Authorization header.'})}),"\n",(0,n.jsx)(t.p,{children:"Using an Authorization and Bearer key makes it so that only you can send to an integration because only you have the auth token."}),"\n",(0,n.jsxs)(t.p,{children:["In this case, ANYONE who reads this tutorial and uses the ",(0,n.jsx)(t.code,{children:"testpoint.meteoscientific.com"})," can use it, but that's not common practice."]}),"\n",(0,n.jsxs)(t.p,{children:["Once you've hit ",(0,n.jsx)(t.code,{children:"Submit"})," on the Integration panel, go ahead and fire off your device.  In my case, I'll just press the button.  This will send an uplink from the button to a gateway on Helium.  From there it will go to the Helium Packet Router, which will send it to the MeteoScientific Console."]}),"\n",(0,n.jsx)(t.p,{children:"From the Console it'll go to the Application and find the Integration, and then it'll send that packet off to the integration."}),"\n",(0,n.jsxs)(t.p,{children:["In a normal boring world, you'd just get something boring, like ",(0,n.jsx)(t.code,{children:"AXVk"}),".  Big whoop."]}),"\n",(0,n.jsx)(t.p,{children:"At the testpoint site, we make it a little more awesome, displaying the Device EUI (so you know it's yours), the RSSI (should be between -120 and -80), the SNR (should be between -20 dB and +10 dB), and the gateway that processed your packet."}),"\n",(0,n.jsx)(t.p,{children:"Yeah yeah, we'll also show you the payload.  Sheesh."}),"\n",(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px auto"},children:(0,n.jsx)("img",{src:"/images/tutorial-basics/010-integrations/integration-test-website-working.png",alt:"When your integration is working, you'll see the DEVEUI, RSSI, SNR, and Gateway along with the payload and payload length.",style:{maxWidth:"800px",width:"100%",borderRadius:"8px",border:"4px solid var(--metsci-primary)",boxShadow:"0 4px 12px rgba(217, 74, 24, 0.15)"}})}),"\n",(0,n.jsx)(t.p,{children:"That's it, your integration is working, woohoo!"}),"\n",(0,n.jsx)(t.p,{children:"Because this is just a test endpoint, your data doesn't stay there forever.  The database resets every 10 packets, so your data will disappear when 9 other people after you have fired off their own test packets."}),"\n",(0,n.jsx)(t.p,{children:"You can see how close you are to falling off the Database Cycle down at the bottom, along with the total requests that have been made (usually 2 per packet sent.)"}),"\n",(0,n.jsx)(t.h2,{id:"youve-been-integrated",children:"You've Been Integrated!"}),"\n",(0,n.jsxs)(t.p,{children:["That's it, you've completed an Integration.  Now go set up your own, or keep advancing through the tutorials and try a few more; there are tutorials for how to ",(0,n.jsx)(t.a,{href:"/docs/tutorial-extras/Google_Sheets",children:"set up Google Sheets to receive your data"})," along with how to set up your own dashboard, and I've written blog posts on ",(0,n.jsx)(t.a,{href:"/blog/2025/06/22/Single-IoT-Sensor-Power-The-Sled",children:"tracking assets that rely on integrations"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"Welcome to Intregration-land."}),"\n",(0,n.jsx)(t.p,{children:"Rock 'n roll!"}),"\n",(0,n.jsx)(i,{})]})}function c(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>r});var n=i(6540);const o={},s=n.createContext(o);function a(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);