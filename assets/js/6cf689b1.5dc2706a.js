"use strict";(self.webpackChunkmeteoscientific=self.webpackChunkmeteoscientific||[]).push([[44],{8102:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>c,frontMatter:()=>n,metadata:()=>a,toc:()=>h});var o=r(4848),i=r(8453);const n={sidebar_position:5,title:"Spreading Factor & Chirps"},s="Spreading Factor & Chirps",a={id:"tutorial-extras/spreading-factor-chirps",title:"Spreading Factor & Chirps",description:"Like most amazing things in technology, LoRa was inspired by nature.",source:"@site/docs/tutorial-extras/005-spreading-factor-chirps.md",sourceDirName:"tutorial-extras",slug:"/tutorial-extras/spreading-factor-chirps",permalink:"/docs/tutorial-extras/spreading-factor-chirps",draft:!1,unlisted:!1,editUrl:"https://github.com/gristlekinginc/metsci-site-v2/tree/main/docs/tutorial-extras/005-spreading-factor-chirps.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,title:"Spreading Factor & Chirps"},sidebar:"tutorialSidebar",previous:{title:"MetSci Demo Dashboard",permalink:"/docs/tutorial-extras/metsci-demo-dash"},next:{title:"NanoTags & Multi-Buy",permalink:"/docs/special-projects/nanotags"}},d={},h=[{value:"The Chirp",id:"the-chirp",level:2},{value:"Audio - Simple Chirps",id:"audio---simple-chirps",level:3},{value:"Why We Use Chirps",id:"why-we-use-chirps",level:2},{value:"Data Per Chirp",id:"data-per-chirp",level:2},{value:"Spreading Factors",id:"spreading-factors",level:2},{value:"Using Spreading Factor In The Real World",id:"using-spreading-factor-in-the-real-world",level:2},{value:"Spreading Factor Rules of Thumb",id:"spreading-factor-rules-of-thumb",level:2}];function l(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",p:"p",strong:"strong",...(0,i.R)(),...e.components},{ConsoleButton:r}=t;return r||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ConsoleButton",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"spreading-factor--chirps",children:"Spreading Factor & Chirps"}),"\n",(0,o.jsx)(t.p,{children:"Like most amazing things in technology, LoRa was inspired by nature."}),"\n",(0,o.jsx)(t.p,{children:"Standing for Long Range, LoRa is a radio protocol based on using Chirp Spread Spectrum to transmit information for long ranges at low power."}),"\n",(0,o.jsx)(t.p,{children:"In the same way that dolphins and bats \u201cchirp\u201d for sonar, we humans have figured out how to use chirps for long range communication."}),"\n",(0,o.jsx)(t.p,{children:"Knowing a bit more about chirps and spreading factor is helpful in LoRa, partly because this will save you battery life with your LoRa devices, and partly because it\u2019s flat-out rad to know how the world works."}),"\n",(0,o.jsx)(t.h2,{id:"the-chirp",children:"The Chirp"}),"\n",(0,o.jsxs)(t.p,{children:["A ",(0,o.jsx)(t.code,{children:"chirp"}),' is a piece of data, technically called a "symbol", though we\'ll stick with ',(0,o.jsx)(t.code,{children:"chirp"}),". A LoRa packet will have lots of chirps in it. Think of these like bird chirps rising from low frequency to high frequency, or the other way around."]}),"\n",(0,o.jsx)(t.p,{children:"The frequency center is the middle sound of the chirp.  Chirps can go from low to high (an \u201cup chirp\u201d) or from high to low (a \u201cdown chirp\u201d)."}),"\n",(0,o.jsxs)(t.p,{children:["It\u2019s best at this point to hear these: here\u2019s what LoRa sounds like when you slow it down into the audio spectrum (",(0,o.jsx)(t.em,{children:'courtesy Jeremy Cooper aka "Jerm"'}),")"]}),"\n",(0,o.jsx)(t.h3,{id:"audio---simple-chirps",children:"Audio - Simple Chirps"}),"\n",(0,o.jsx)("div",{className:"custom-audio-player",style:{marginTop:"25px",marginBottom:"25px"},children:(0,o.jsxs)("audio",{controls:!0,preload:"metadata",style:{width:"100%",height:"50px",backgroundColor:"#000000",borderRadius:"8px",border:"2px solid #FA7F2A"},children:[(0,o.jsx)("source",{src:"https://video.meteoscientific.com/actual-lora_mixdown.mp3",type:"audio/mpeg"}),(0,o.jsx)(t.p,{children:"Your browser does not support the audio element."})]})}),"\n",(0,o.jsxs)(t.p,{children:["Up chirps and down chirps are more or less ",(0,o.jsx)(t.strong,{children:"orthogonal"}),", which is a fancy way of saying that you can hear an up chirp and a down chirp at the same time and they don\u2019t cancel each other out.  Orthogonality is useful when you\u2019re sending a LOT of chirps, which is what LoRa radio waves are full of."]}),"\n",(0,o.jsxs)(t.p,{children:["How full?  The Helium LoRaWAN, which is more or less global and receives just about every LoRa signal out there (though it only routes the ones addressed to Helium devices) \u201chears\u201d 5-7,000 packets per ",(0,o.jsx)(t.strong,{children:"second"}),".  If this were sound it would be a cacophony, but due to various factors of CSS, each one of these signals is intelligible.  That, by the way, is bloody amazing."]}),"\n",(0,o.jsx)(t.h2,{id:"why-we-use-chirps",children:"Why We Use Chirps"}),"\n",(0,o.jsx)(t.p,{children:"Due to the physical properties of these chirps (which is beyond the scope of this article), they are resilient to interference and performant at low power.  They don\u2019t get confused by multi-path (bouncing off buildings in a city), the Doppler effect doesn\u2019t disrupt them, and they can be used to transmit data an incredibly long way for very little power expenditure."}),"\n",(0,o.jsx)(t.p,{children:"For these reasons, chirps are used in military and marine radars as well as ionospheric and space weather assessments."}),"\n",(0,o.jsx)(t.h2,{id:"data-per-chirp",children:"Data Per Chirp"}),"\n",(0,o.jsx)(t.p,{children:"An inquisitive person might now say, \u201cOk, that\u2019s cool.  How much data is in a chirp?\u201d"}),"\n",(0,o.jsx)(t.p,{children:"The answer is that it depends on the Spreading Factor.  You see, all chirps are not equal.  Some are spread out longer, some are compacted shorter.  Some cross a wider section of bandwidth, some a narrower. This leads us directly into the concept of spreading factor."}),"\n",(0,o.jsx)(t.h2,{id:"spreading-factors",children:"Spreading Factors"}),"\n",(0,o.jsx)(t.p,{children:"The difference in the length of those chirps is called the Spreading Factor (SF); the chirp is \u201cspread\u201d over time.  Spreading Factors range from 7 to 12, and those numbers correspond to the bits in a chirp.  A chirp at SF 7 has 7 bits, and takes less time to transmit than one at SF 12, which has 12 bits."}),"\n",(0,o.jsx)(t.p,{children:"Why would you use one or the other?  It\u2019s a balance between how fast and how far you want to send data.  Lower spreading factors send data faster at a lower energy cost but with shorter range.  Higher spreading factors can send it further, but it will take longer to send that data and require more energy because you\u2019re transmitting for more time."}),"\n",(0,o.jsx)(t.p,{children:"To put some ballpark numbers on it, a higher SF, like SF 12 can have a data rate of 0.3 kbps versus SF 7 which might have a data rate of approximately 22 kbps.  This depends on bandwidth, which is beyond the scope of this article."}),"\n",(0,o.jsx)(t.p,{children:"The further you want it to go, the slower you should send it, but the more energy per chirp it\u2019ll take to get there because you\u2019re on the air longer."}),"\n",(0,o.jsx)(t.p,{children:"The shorter distance you need to send it the faster you can send data and the lower the energy cost."}),"\n",(0,o.jsx)(t.p,{children:"A lower spreading factor (like 7) has fewer bits per chirp, which means less time on air, which gives you a higher data rate because you can send data more frequently."}),"\n",(0,o.jsx)(t.p,{children:"A higher spreading factor (like 12) encodes more bits per chirp, and requires more time on air, giving a lower overall data rate."}),"\n",(0,o.jsx)(t.p,{children:"That can seem backward for us non-engineers; shouldn\u2019t more time on air per chirp give you more data?  No."}),"\n",(0,o.jsx)(t.p,{children:"Think of this in terms of bench pressing; it costs way less energy to bench 40 lbs than 400 lbs, and you can burn through reps at 40 lbs much faster, giving you more presses in any given time period.  This isn\u2019t an exact analogy, it\u2019s just helpful to visualize."}),"\n",(0,o.jsx)(t.p,{children:"The upside of a lower data rate like 12 is that you\u2019re putting space between the bits of data, which means the message is less jumbled and can be more clearly \u201cheard\u201d at the receiving end.  Instead of yelling at the top of your lungs as fast as you can speak, you\u2019re articulating each word very clearly, pausing in between words."}),"\n",(0,o.jsx)(t.h2,{id:"using-spreading-factor-in-the-real-world",children:"Using Spreading Factor In The Real World"}),"\n",(0,o.jsx)(t.p,{children:"With this new understanding of chirps and spreading factor, consider how you should set up your devices to optimize for efficiency, range, and power consumption."}),"\n",(0,o.jsx)(t.p,{children:"In real-world applications like smart cities, agriculture, and environmental monitoring, where you have to roll trucks to change the batteries on devices, setting your spreading factor correctly can significantly decrease your costs."}),"\n",(0,o.jsx)(t.h2,{id:"spreading-factor-rules-of-thumb",children:"Spreading Factor Rules of Thumb"}),"\n",(0,o.jsx)(t.p,{children:"The one way I\u2019ve found to guarantee RF engineer feedback is to publish rules of thumb that are off by more than a femtometer; this is one of the reasons I don\u2019t have comments on these tutorials.  ;)"}),"\n",(0,o.jsxs)(t.p,{children:["This table should give you a general idea of when to use what Spreading Factor.  It combines data from ",(0,o.jsx)(t.a,{href:"https://pmc.ncbi.nlm.nih.gov/articles/PMC9921199/",children:"NIH"}),", ",(0,o.jsx)(t.a,{href:"https://www.semtech.com/uploads/technology/LoRa/lora-and-lorawan.pdf",children:"Semtech"}),", and other ",(0,o.jsx)(t.a,{href:"https://www.minew.com/lorawan-range-overview/",children:"LoRaWAN practitioners"})," to give you a rough idea of where to start with your SF settings per device."]}),"\n",(0,o.jsx)(t.p,{children:"As always, you\u2019ll be the most sure if you test your coverage, but if you\u2019re in a rush or just daydreaming through your initial planning, you\u2019ll find this spreading factor table helpful"}),"\n",(0,o.jsx)("div",{className:"spreading-factor-table",children:(0,o.jsxs)("table",{style:{width:"fit-content",tableLayout:"fixed",borderCollapse:"collapse",backgroundColor:"#FCF5F0",border:"2px solid #FA7F2A",borderRadius:"8px",overflow:"hidden",marginTop:"20px",marginBottom:"20px"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{backgroundColor:"#FA7F2A"},children:[(0,o.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"bold",color:"#000000",borderRight:"2px solid #18A7D9"},children:"Environment"}),(0,o.jsx)("th",{style:{padding:"12px 16px",textAlign:"center",fontWeight:"bold",color:"#000000",borderRight:"2px solid #18A7D9"},children:"500m"}),(0,o.jsx)("th",{style:{padding:"12px 16px",textAlign:"center",fontWeight:"bold",color:"#000000",borderRight:"2px solid #18A7D9"},children:"1km"}),(0,o.jsx)("th",{style:{padding:"12px 16px",textAlign:"center",fontWeight:"bold",color:"#000000",borderRight:"2px solid #18A7D9"},children:"5km"}),(0,o.jsx)("th",{style:{padding:"12px 16px",textAlign:"center",fontWeight:"bold",color:"#000000"},children:"10km"})]})}),(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{style:{backgroundColor:"#FCF5F0"},children:[(0,o.jsx)("td",{style:{padding:"12px 16px",color:"#000000",fontWeight:"500",borderRight:"2px solid #18A7D9",borderBottom:"1px solid #18A7D9"},children:"Dense Cities (Urban)"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000",borderRight:"2px solid #18A7D9",borderBottom:"1px solid #18A7D9"},children:"SF7"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000",borderRight:"2px solid #18A7D9",borderBottom:"1px solid #18A7D9"},children:"SF7-SF8"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000",borderRight:"2px solid #18A7D9",borderBottom:"1px solid #18A7D9"},children:"SF10-SF12"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000",borderBottom:"1px solid #18A7D9"},children:"SF12 (marginal, often <10km)"})]}),(0,o.jsxs)("tr",{style:{backgroundColor:"#FCF5F0"},children:[(0,o.jsx)("td",{style:{padding:"12px 16px",color:"#000000",fontWeight:"500",borderRight:"2px solid #18A7D9",borderBottom:"1px solid #18A7D9"},children:"Suburbs"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000",borderRight:"2px solid #18A7D9",borderBottom:"1px solid #18A7D9"},children:"SF7"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000",borderRight:"2px solid #18A7D9",borderBottom:"1px solid #18A7D9"},children:"SF7"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000",borderRight:"2px solid #18A7D9",borderBottom:"1px solid #18A7D9"},children:"SF8-SF10"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000",borderBottom:"1px solid #18A7D9"},children:"SF11-SF12"})]}),(0,o.jsxs)("tr",{style:{backgroundColor:"#FCF5F0"},children:[(0,o.jsx)("td",{style:{padding:"12px 16px",color:"#000000",fontWeight:"500",borderRight:"2px solid #18A7D9"},children:"Rural"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000",borderRight:"2px solid #18A7D9"},children:"SF7"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000",borderRight:"2px solid #18A7D9"},children:"SF7"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000",borderRight:"2px solid #18A7D9"},children:"SF7-SF9"}),(0,o.jsx)("td",{style:{padding:"12px 16px",textAlign:"center",color:"#000000"},children:"SF9-SF11"})]})]})]})}),"\n",(0,o.jsx)(t.p,{children:"That\u2019s it, you now know enough about spreading factor to have a good idea of what to set it to, how it works, and how setting everything to SF12 is not the optimal way to run a network."}),"\n",(0,o.jsx)(t.p,{children:"Get out there and crush!"}),"\n",(0,o.jsxs)(t.p,{children:["If you're ready to start chirping on Helium, go ahead and sign up for the ",(0,o.jsx)(t.a,{href:"https://console.meteoscientific.com/front/",children:"MeteoScientific Console"}),".  It's free to sign up, the first 400 DC (24 bytes each) are free and after that cost just $0.0001 each.  Have fun out there!"]}),"\n",(0,o.jsx)(r,{})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>s,x:()=>a});var o=r(6540);const i={},n=o.createContext(i);function s(e){const t=o.useContext(n);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(n.Provider,{value:t},e.children)}}}]);