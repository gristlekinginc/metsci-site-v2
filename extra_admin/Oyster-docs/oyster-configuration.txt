1. INTRODUCTION
This document is a specification for the Digital Matter Oyster LoRaWAN GPS device.
Contact info@digitalmatter.com for more information.
Revision History
Date Version Changes
2017-09-13 1.0 Initial release
2017-10-16 1.1 Corrected errors in uplink 3’s bit positions
2017-11-20 1.2 Added default downlink values
2017-11-30 1.3 Added downlink 9
2018-08-07 1.4 Added uplink 4 and downlink 10
2019-01-14 1.5 Added downlinks 11 and 12
2019-02-06 1.6 Updated downlinks 8, 9 and 11
2019-03-01 1.7 Updated downlink 9
2019-08-13 1.8 Corrected valid range of Accel Wakeup Count in downlink 1
2022-04-13 1.9 Corrected ADR default in downlink 9
2. DEVICE BEHAVIOUR
The Oyster’s behaviour can be configured by setting a variety of parameters using a USB
programming adapter, or by sending a subset of those parameters during a downlink
message. The details of these parameters can be found on the product support website.
Uplink
The Oyster uses an accelerometer to detect movement, allowing it to decide when an asset
is in-trip, and when it is stationary. This allows it to schedule the battery-hungry GPS fixes
and transmissions as infrequently as possible, to maximize battery life. Each time a status
update is scheduled the Oyster will attempt a GPS fix, then transmit the results (whether the
fix succeeded or not). You can configure the Oyster to transmit a status update:
• Periodically (i.e. 24-hour heartbeat)
• At configured times of the day
• At the start of a regular or after-hours trip
• During the trip
• At the end of the trip
• When the ‘Man Down’ status changes
2.1.1. Device Statistics
The Oyster transmits a device statistics message once every 3 days, to allow monitoring of
device activity and associated battery usage. The device statistic messages can be disabled
All information provided in this document is subject to legal disclaimers © Digital Matter 2017
Revision 1.9 - 13 April 2022 Page 1 of 13
Digital Matter Oyster LoRaWAN Integration
to prevent tracking disruption in regions where the transmit duty cycle restrictions are a
bottleneck (868 MHz regions can limit transmissions to 1 every 3 minutes).
Downlink
LoRaWAN potentially allows for a downlink with every regular data uplink, but most networks
will only allow a few per day. When a parameter update is sent down to the Oyster, it
responds with an application layer acknowledgement uplink as soon as possible. In some
regions, this could take several minutes. If the next uplink received is not the expected
acknowledgement, the downlink should be resent.
3. MESSAGES
Number Formats
3.1.1. Little Endian
Except where noted, all data in the payloads is LITTLE ENDIAN. Be aware of this when
converting data fields that consist of more than one byte from the data payload.
https://en.wikipedia.org/wiki/Endianness#Little
3.1.2. Signed (Negative) Numbers
When a field is specified as signed, it is represented in ‘two’s complement’ form. Be aware of
this when converting signed fields from the data payload. Where unspecified, assume that
fields are unsigned.
https://en.wikipedia.org/wiki/Two's_complement
Uplink
LoRaWAN uplink payloads can be as small as 11 bytes in some regions (for the longest-
range transmissions). The packet headers already include the device serial number, and a
‘port number’ from 1 to 223, which we will use as a message type.
3.2.1. Uplink Port 1: GPS Data Record
Offset Description
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
Revision 1.9 – 13 April 2022 Page 2 of 13
Digital Matter Oyster LoRaWAN Integration
0 (INT32) 32 bit latitude, signed, LSb = 0.000’000’1°. To convert, first calculate the
signed integer value, then divide by 10 million to get a floating-point value.
4 (INT32) 32 bit longitude, signed, see above
8.0 0: Out of trip, 1: In-trip
8.1 Last fix failed
8.2 - 8.7 Heading, LSb = 5.625°
9 (BYTE) Speed, LSb = 1 km/h
10 (BYTE) Battery voltage, LSb = 25 mV
This is the default status message, sent if the Man Down feature is not enabled. When Man
Down is enabled, the Oyster will send uplink 4 instead.
Example: 53AB783C0421F98E940AB3
• 53AB783C little endian
o 3C78AB53 in hex
o 1014541139 in decimal
o 101.4541139°
• 0421F98E little endian
o 8EF92104 in hex
o 2398691588 in decimal (unsigned), >= 231
o 2398691588 - 232 = -1896275708 in decimal (signed)
o -189.6275708°
• 94
o 10010100 in binary
o 0 - not in trip
o 0 - last fix did not fail
o 100101 - 37 x 5.625 = 208.12°
• 0A
o 10 km/h
• B3
o 179 x 25 = 4475 mV
3.2.2. Uplink Port 2: Downlink Ack
Offset Description
0.0 - 0.6 Sequence number (identifies downlink to server)
0.7 0: Downlink rejected, 1: Downlink accepted
1 Firmware major version
2 Firmware minor version
Example: D30102
• D3
o 11010011 in binary
o 1010011 - sequence number 83
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
Revision 1.9 – 13 April 2022 Page 3 of 13
Digital Matter Oyster LoRaWAN Integration
3.2.3. o 1 - downlink accepted
• 0102
o Firmware 1.2
Uplink Port 3: Device Statistics
Offset Description
0.0 - 0.3 Initial battery voltage, LSb = 100 mV, 4V offset
0.4 - 1.6 Tx count, LSb = 32 Tx attempts
1.7 - 3.3 Trip count, LSb = 32 trips
3.4 - 4.5 GPS Successes, LSb = 32 fixes
4.6 - 5.5 GPS Failures, LSb = 32 failed fixes
5.6 - 6.6 Average GPS fix time, calculated over successful fixes only, seconds
6.7 - 7.7 Average GPS fail time, calculated over failed fixes only, seconds
8.0 - 8.7 Average GPS freshen time per successful fix, seconds
9.0 - 9.6 Wakeups per trip
9.7 - 10.7 Uptime, LSb = 1 week
Example: 8BF3DC7B9438984278B85E
↓10.7 0.0↓
5E B8 78 42 98 38 94 7B DC F3 8B
0101111010111000011110000100001010011000001110001001010001111011110111001111001110001011
0101111010111000011110000100001010011000001110001001010001111011110111001111001110001011
189 56 120 133 96 226 327 6073 1848 11
3.2.4. • 11 x 0.1 + 4.0 = 5.1 V when battery was inserted
• 1848 x 32 = 59136 transmissions
• 6073 x 32 = 194336 trips
• 327 x 32 = 10464 GPS fixes
• 226 x 32 = 7232 GPS failures
• 96 s spent per successful GPS fix, not including freshen time
• 133 s wasted per failed GPS fix attempt
• 120 s spent freshening GPS ephemerides per successful GPS fix
• 56 wakeups per trip
• 189 weeks uptime
Uplink Port 4: Extended GPS Data Record
Offset Description
0.0 - 2.7 24 bit latitude, signed, LSb = 0.000’025’6°. To convert, first calculate the
signed integer value, then multiply by 256E-7 to get a floating-point value.
3.0 - 5.7 24 bit longitude, signed, see above
6.0 - 6.2 Heading, LSb = 45°, rounded to nearest
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
Revision 1.9 – 13 April 2022 Page 4 of 13
Digital Matter Oyster LoRaWAN Integration
6.3 - 6.7 Speed, LSb = 5 km/h, rounded down
7 (BYTE) Battery voltage, LSb = 25 mV, rounded down
8.0 0: Out of trip, 1: In-trip
8.1 Last fix failed
8.2 Man down (no movement for configured period)
8.3 - 8.7 Reserved
9 (BYTE) Reserved, optional
10 (BYTE) Reserved, optional
This is the extended status message, sent if the Man Down feature is enabled. When Man
Down is disabled (default), the Oyster will send uplink 1 instead. Supported from firmware
versions 1.10 onwards. The base message is 9 bytes long, but 10 or 11 bytes may be sent
in future firmware versions.
Example: 53AB783C04A1F98E06
• 53AB78 little endian
o 78AB53 in hex
o 7908179 in decimal
o 7908179 x 256E-7 = 202.4493824°
• 3C04A1 little endian
o A1043C in hex
o 10552380 in decimal (unsigned), >= 223
o 10552380 - 224 = -6224836 in decimal (signed)
o -6224836 x 256E-7 = -159.3558016°
• F9
o 11111001 in binary
o 001 - 1 x 45 = 45°
o 11111 - 31 x 5 = 155 km/h
• 8E
o 142 x 25 = 3550 mV
• 06
o 00000110 in binary
o 0 - not in trip
o 1 - last fix failed
o 1 - man down
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
Revision 1.9 – 13 April 2022 Page 5 of 13
Digital Matter Oyster LoRaWAN Integration
3.2.5. Example JavaScript Decoder
// Decode an uplink message from an array of bytes to an object of fields
function Decoder(bytes, port)
{
var decoded = {};
if (port === 1)
{
decoded.type = "position";
decoded.latitudeDeg = bytes[0] + bytes[1] * 256 +
bytes[2] * 65536 + bytes[3] * 16777216;
if (decoded.latitudeDeg >= 0x80000000) // 2^31
decoded.latitudeDeg -= 0x100000000; // 2^32
decoded.latitudeDeg /= 1e7;
decoded.longitudeDeg = bytes[4] + bytes[5] * 256 +
bytes[6] * 65536 + bytes[7] * 16777216;
if (decoded.longitudeDeg >= 0x80000000) // 2^31
decoded.longitudeDeg -= 0x100000000; // 2^32
decoded.longitudeDeg /= 1e7;
decoded.inTrip = ((bytes[8] & 0x1) !== 0) ? true : false;
decoded.fixFailed = ((bytes[8] & 0x2) !== 0) ? true : false;
decoded.headingDeg = (bytes[8] >> 2) * 5.625;
decoded.speedKmph = bytes[9];
decoded.batV = bytes[10] * 0.025;
decoded.manDown = null;
}
else if (port === 4)
{
decoded.type = "position";
decoded.latitudeDeg = bytes[0] + bytes[1] * 256 + bytes[2] * 65536;
if (decoded.latitudeDeg >= 0x800000) // 2^23
decoded.latitudeDeg -= 0x1000000; // 2^24
decoded.latitudeDeg *= 256e-7;
decoded.longitudeDeg = bytes[3] + bytes[4] * 256 + bytes[5] * 65536;
if (decoded.longitudeDeg >= 0x800000) // 2^23
decoded.longitudeDeg -= 0x1000000; // 2^24
decoded.longitudeDeg *= 256e-7;
decoded.headingDeg = (bytes[6] & 0x7) * 45;
decoded.speedKmph = (bytes[6] >> 3) * 5;
decoded.batV = bytes[7] * 0.025;
decoded.inTrip = ((bytes[8] & 0x1) !== 0) ? true : false;
decoded.fixFailed = ((bytes[8] & 0x2) !== 0) ? true : false;
decoded.manDown = ((bytes[8] & 0x4) !== 0) ? true : false;
}
else if (port === 2)
{
decoded.type = "downlink ack";
decoded.sequence = (bytes[0] & 0x7F);
decoded.accepted = ((bytes[0] & 0x80) !== 0) ? true : false;
decoded.fwMaj = bytes[1];
decoded.fwMin = bytes[2];
}
else if (port === 3)
{
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
Revision 1.9 – 13 April 2022 Page 6 of 13
Digital Matter Oyster LoRaWAN Integration
decoded.type = "stats";
decoded.initialBatV = 4.0 + 0.100 * (bytes[0] & 0xF);
decoded.txCount = 32 * ((bytes[0] >> 4) + (bytes[1] & 0x7F) * 16);
decoded.tripCount = 32 * ((bytes[1] >> 7) + (bytes[2] & 0xFF) * 2
+ (bytes[3] & 0x0F) * 512);
decoded.gpsSuccesses = 32 * ((bytes[3] >> 4) + (bytes[4] & 0x3F) * 16);
decoded.gpsFails = 32 * ((bytes[4] >> 6) + (bytes[5] & 0x3F) * 4);
decoded.aveGpsFixS = 1 * ((bytes[5] >> 6) + (bytes[6] & 0x7F) * 4);
decoded.aveGpsFailS = 1 * ((bytes[6] >> 7) + (bytes[7] & 0xFF) * 2);
decoded.aveGpsFreshenS = 1 * ((bytes[7] >> 8) + (bytes[8] & 0xFF) * 1);
decoded.wakeupsPerTrip = 1 * ((bytes[8] >> 8) + (bytes[9] & 0x7F) * 1);
decoded.uptimeWeeks = 1 * ((bytes[9] >> 7) + (bytes[10] & 0xFF) * 2);
}
return decoded;
}
Downlink
LoRaWAN downlink payloads can be as small as 11 bytes in some regions (for the longest-
range transmissions). The packet headers already include a ‘port number’ from 1 to 223,
which we will use as a message type. The Oyster sends an explicit acknowledgement uplink
(port 2) on reception of a downlink. It sends the acknowledgement only once, on its next
uplink attempt. The uplink includes a sequence number to help identify the specific downlink
being acknowledged, despite any queuing / buffering in the network. ‘Confirmed’ and
‘unconfirmed’ downlinks are handled in the same way.
3.3.1. Downlink Port 1: Set Trip Parameters
Offset Description
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 Reserved, set to zero
1 (BYTE) Max time between fix attempts out of trip (‘heartbeat’), 1-127: 1-127 mins,
129-255: 1-127 hours, default 24 hours
2 (BYTE) Trip end timeout, LSb = 10s without accelerometer detecting movement, 0
disables trip tracking entirely (heartbeats only), default 5 mins
3 (BYTE) Time between fix attempts in-trip during work hours, 1-127: 1-127
seconds, 129-255: 1-127 minutes, 0 or 128 disables, default 10 mins
4 (BYTE) Time between fix attempts in-trip after hours, 1-127: 1-127 seconds, 129-
255: 1-127 minutes, 0 or 128 disables, default 10 mins
5.0 Fix on start of trips during work hours, default true
5.1 Fix on end of trips during work hours, default true
5.2 Fix on start of trips after hours, default true
5.3 Fix on end of trips after hours, default true
5.4 Optimise GPS for trip tracking (download all ephemerides), default true
5.5 Disable stats messages (uplink port 2), default 0 (message enabled)
5.6 Disable wakeup filtering during work hours, 1: only apply accelerometer
wakeup threshold and count, 0: apply threshold, count, and filter, default 0
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
Revision 1.9 – 13 April 2022 Page 7 of 13
Digital Matter Oyster LoRaWAN Integration
5.7 Disable wakeup filtering after hours, 1: only apply accelerometer wakeup
threshold and count, 0: apply threshold, count, and filter, default 0
6 (BYTE) Accelerometer wakeup threshold, 1-8: 63-504 mG, default 126 mG
7 (BYTE) Accelerometer wakeup count, 1-12: 80-960 ms, default 80 ms
3.3.2. Downlink Port 2: Set After-Hours 1
Offset Description
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 Reserved, set to zero
1 (BYTE) Start of after-hours period on Monday, LSb = 7m30s since 00:00 local
time, setting to end time indicates no after-hours period, default 0
2 (BYTE) End of after-hours period on Monday, LSb = 7m30s since 00:00 local time,
setting to start time + 1 indicates a 7m30s after-hours period, set start time
to 00:00 and end time to 24:00 to indicate the whole day is after-hours,
default 0
3 (BYTE) Start of after-hours period on Tuesday, see above
4 (BYTE) End of after-hours period on Tuesday, see above
5 (BYTE) Start of after-hours period on Wednesday, see above
6 (BYTE) End of after-hours period on Wednesday, see above
7 (BYTE) Start of after-hours period on Thursday, see above
8 (BYTE) End of after-hours period on Thursday, see above
3.3.3. Downlink Port 3: Set After-Hours 2
Offset Description
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 Reserved, set to zero
1 (BYTE) Start of after-hours period on Friday, LSb = 7m30s since 00:00 local time,
setting to end time indicates no after-hours period, default 0
2 (BYTE) End of after-hours period on Friday, LSb = 7m30s since 00:00 local time,
setting to start time + 1 indicates a 7m30s after-hours period, set start time
to 00:00 and end time to 24:00 to indicate the whole day is after-hours,
default 0
3 (BYTE) Start of after-hours period on Saturday, see above
4 (BYTE) End of after-hours period on Saturday, see above
5 (BYTE) Start of after-hours period on Sunday, see above
6 (BYTE) End of after-hours period on Sunday, see above
3.3.4. Downlink Port 4: Set Time Zone
Offset Description
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
Revision 1.9 – 13 April 2022 Page 8 of 13
Digital Matter Oyster LoRaWAN Integration
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 - 1.1 Reserved, set to zero
1.2 - 2.1 Offset of normal time zone from UTC, LSb = 15 minutes, signed, default 0
2.2 - 2.5 Daylight saving time shift, LSb = 15 minutes, 0 disables, default 0
2.6 - 3.0 Start of DST Nth day of month, 1: First day, …, 5: Fifth day, 6: Last day, 0:
Use absolute date instead of relative ‘2nd Sunday of October’ style
3.1 - 3.5 1-7: Monday-Sunday, or 1-31: Day of month (absolute date), local time
3.6 - 4.1 1-12: January-December
4.2 - 5.2 Offset from 00:00 local time, LSb = 15 mins, signed, can select hours in
previous days like ‘02:00 on Friday before last Sunday of October local
time’ would need Offset = (2hr - 48hr) * 4 = -184
5.3 - 5.5 End of DST Nth day of month, 1: First day, …, 5: Fifth day, 6: Last day, 0:
Use absolute date instead of relative ‘2nd Sunday of October’ style
5.6 - 6.2 1-7: Monday-Sunday, or 1-31: Day of month (absolute date), local time
6.3 - 6.6 1-12: January-December
6.7 - 7.7 Offset from 00:00 local DST, LSb = 15 mins, signed, can select hours in
previous days like ’02:00 on Friday before last Sunday of April local DST’
would need Offset = (2hr - 48hr) * 4 = -184
3.3.5. Downlink Port 5: Set GPS Parameters 1
Offset Description
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 Require 3D GPS fixes, default false
1 (BYTE) Max time to wait for initial coarse GPS fix, 45-127: 45-127 seconds, 129-
255: 1-127 minutes, default 3 mins
2 (BYTE) Max time to wait for fine GPS fix, 1-127: 1-127 seconds, 129-255: 1-127
minutes, 0 or 128 disables, default 5 s
3 (BYTE) Target accuracy for the fine GPS fix wait, LSb = 1m, default 20 m
4 (BYTE) Required PDOP for valid GPS, 25-100: 2.5 to 10.0, default 10.0
5 (BYTE) Required position accuracy for valid GPS, 5-100: 5-100 m, default 75 m
6 (BYTE) Required speed accuracy for valid GPS, 8-55: 2.88-19.8 km/h, default 10
km/h
7 (BYTE) Discard first N GPS points to allow solution to settle, 0-32: 0-32 positions,
default 3
3.3.6. Downlink Port 6: Set GPS Parameters 2
Offset Description
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 Reserved, set to zero
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
Revision 1.9 – 13 April 2022 Page 9 of 13
Digital Matter Oyster LoRaWAN Integration
1 (BYTE) Daily GPS on-time budget, 45-127: 45-127 seconds, 129-255: 1-127
minutes, 0 or 128 for unlimited on-time budget, default unlimited
2 (BYTE) Max time to spend looking for 1st satellite, 1-255: 5-1275s, 0 disables
signal validator, default 1 min
3 (BYTE) Max time to spend looking for 2nd satellite, 0-255: 0-1275s, default 1 min
4 (BYTE) Max time to spend looking for 3rd satellite, 0-255: 0-1275s, default 1 min
5 (BYTE) Max time to spend looking for 4th satellite, 0-255: 0-1275s, default 1 min
6.0 - 6.4 Satellite detection margin adjustment, signed,
-16-15: -16-15 dB, >=0
requires stronger signal, <0 allows weaker signal, 0 is default
6.5 Enable Autonomous Aiding, default off
6.6 - 6.7 Reserved, set to zero
7 (BYTE) GPS statistical model, 0: Portable, 2: Stationary,3: Pedestrian, 4:
Automotive, 5: Sea, 6: Air 1G, 7: Air 2G, 8: Air 4G, default 4
8 (UINT16) Approximate maximum error from Autonomous Aiding calculations, 5-
1000: 5-1000 m, 0: automatic, default: 100
3.3.7. Downlink Port 7: Set LoRaWAN Channels
Offset Description
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 Reserved, set to zero
1.0 - 1.3 Minimum data rate to use when ADR is disabled, default is 0 (DR0)
1.4 - 1.7 Maximum data rate to use when ADR is disabled, default is 2 (DR2)
2 - 10 Uplink channel mask, set bits are enabled channels, LSb of the 1st byte is
channel 0, MSb of the 9th byte is channel 71, set all zeros (default) for the
region-specific defaults
The Oyster will spread its transmissions out over the allowed data rates in such a way as to
equalize the time spent on-air at each data rate. For the default setting of DR0-DR2, this
gives a 16 / 30 / 54% split between the three data rates, and maximizes the gateway’s
capacity. However, the relative range of the three data rates are 100, 75, and 50%
respectively. When ADR is enabled, the network server controls the data rate instead.
The uplink channel mask should be left 0 (default) in regions where the network join
channels are fixed. In these regions, the gateway will tell the Oyster which channels to use,
during the Join procedure.
In regions where the join channels are not specified (US902-928, AU915-928), you should
set the channel mask to avoid continued transmission on unused channels. In these regions
the gateway will usually not tell the Oyster which channels to use, resulting in significant
packet loss if the mask hasn’t been programmed.
3.3.8. Downlink Port 8: Set LoRaWAN Join / App EUI
Offset Description
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
Revision 1.9 – 13 April 2022 Page 10 of 13
Digital Matter Oyster LoRaWAN Integration
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 Set JoinEUI, 0: Use default JoinEUI, 1: Use supplied JoinEUI, default 0
1 - 8 JoinEUI, non-zero, big endian, i.e. default JoinEUI 70-B3-D5-70-50-00-
00-00 is encoded with first byte as 0x70 and the second byte 0xB3
The acknowledgement will be transmitted once on the existing JoinEUI, and then the Oyster
will switch to the new JoinEUI. It continues to use the already provisioned NwkKey and
AppKey, which cannot be programmed over the air.
Note that:
• In LoRaWAN 1.0, the JoinEUI is known as the AppEUI
• In LoRaWAN 1.1, changing the JoinEUI resets three cryptographic counters:
o RJCount1
o DevNonce
o JoinNonce
• So after changing the JoinEUI in 1.1, you must reset the counters on the join server
3.3.9. Downlink Port 9: Set Advanced LoRaWAN Options
Offset Description
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 Reserved, set to zero
1 (BYTE) Days between network joins, 0 disables, default 7
2.0 - 2.1 ADR support, 0: Never, 1: When out-of-trip, 2: Always, default 1
2.2 - 2.3 Reserved, set to zero
2.4 - 2.7 Initial frame repetitions (NbTrans/Reps), 1-15, default 1
3.0 - 3.3 Initial MaxCount0, sets uplinks between Rejoin0 attempts in LoRaWAN 1.1
OTAA, uplink interval equals 2^(4+MaxCount0), default 15
3.4 - 3.7 Initial MaxTime0, sets approx. time between Rejoin0 attempts in
LoRaWAN 1.1 OTAA, uplink period equals 2^(10+MaxTime0) s, default 15
4.0 - 4.3 Initial AdrAckLimitExp, sets uplinks between ADR confirmation requests,
uplink interval equals 2^AdrAckLimitExp, default 6 (limit is 64)
4.4 - 4.7 Initial AdrAckDelayExp, sets uplinks between ADR backoff steps, uplink
interval equals 2^AdrAckDelayExp, default 5 (delay is 32)
5 (INT8) Maximum Tx power limit, signed,
default 127 (no limit)
-128-127: -128 to 127 dBm EIRP,
6 (BYTE) Random Tx delay, 0: disabled, 1-127: 1-127 seconds, 129-255: 1-127
minutes, default disabled
This downlink is supported from firmware version 1.5 onwards. Fields from offset 2.4 to 4.7
are supported from firmware version 2.0 onwards. Fields from offset 5.0 onwards are
supported from firmware version 2.4. For a detailed description of these parameters, please
see the Configuration and Usage Guide on the support website.
3.3.10. Downlink Port 10: Set Man Down Parameters
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
Revision 1.9 – 13 April 2022 Page 11 of 13
Digital Matter Oyster LoRaWAN Integration
Offset Description
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 Reserved, set to zero
1.0 - 1.1 Man Down fix on set, 0: no fix, 1: single fix attempt, 2: retry fix attempts if
network not ready (i.e. join failed - uplinks are still unconfirmed), default 0
1.2 - 1.3 Man Down fix on clear, see above
1.4 - 1.7 Reserved, set to zero
2 (BYTE) Man Down timeout, 1-127: 10-1270 min, 129-255: 12-1524 hours, others
disable, default 0
This downlink is supported from firmware version 1.10 onwards.
3.3.11. Downlink Port 11: Set Scheduled Upload Parameters
Offset Description
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 0: Single fix attempt, 1: Retry fix attempts if network not ready (i.e. join
failed - uplinks are still unconfirmed), supported from firmware version 2.0
onwards, unconfigured default is no attempts
1 (BYTE) Local time* of scheduled upload time 1, 1-192: 00:07:30-24:00:00 (7.5 min
intervals),
+- 5 minutes randomization, default 0 (disabled)
2 (BYTE) Local time* of scheduled upload time 2, see above
3 (BYTE) Local time* of scheduled upload time 3, see above
4 (BYTE) Local time* of scheduled upload time 4, see above
5 (BYTE) Local time* of scheduled upload time 5, see above
6 (BYTE) Local time* of scheduled upload time 6, see above
7 (BYTE) Local time* of scheduled upload time 7, see above
8 (BYTE) Local time* of scheduled upload time 8, see above
9 (BYTE) Local time* of scheduled upload time 9, see above
10 (BYTE) Local time* of scheduled upload time 10, see above
*Local time takes time zone and daylight savings offset into account (configurable in
Downlink 4).
The scheduled upload feature allows for heartbeats to be scheduled, rather than setting an
upload interval. Each upload will occur within a 5 minute offset (i.e. scheduled upload at
13:00 could occur anywhere between 12:55 and 13:05). Up to 12 upload times may be
configured per day. The first 10 upload times are configured with this downlink.
This downlink is supported from firmware version 1.11 onwards.
3.3.12. Downlink Port 12: Set Scheduled Upload Parameters (continued)
Offset Description
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
Revision 1.9 – 13 April 2022 Page 12 of 13
Digital Matter Oyster LoRaWAN Integration
0.0 - 0.6 Downlink sequence number (reported in acknowledgement)
0.7 Reserved, set to zero
1 (BYTE) Local time* of scheduled upload time 11, 1-192: 00:07:30-24:00:00 (7.5
min intervals), +- 5 minutes randomization, default 0 (disabled)
2 (BYTE) Local time* of scheduled upload time 12, see above
*Local time takes time-zone and daylight savings offset into account (configurable in
Downlink 4).
The scheduled upload feature allows for heartbeats to be scheduled, rather than setting an
upload interval. Each upload will occur within a 5 minute offset (i.e. scheduled upload at
13:00 could occur anywhere between 12:55 and 13:05). Up to 12 upload times may be
configured per day. The 11th and 12th upload times are configured with this downlink.
This downlink is supported from firmware version 1.11 onwards.
4. CONTACT INFORMATION
For the latest version of this document plus other product information please visit our
website at www.digitalmatter.com/support, or contact DM at info@digitalmatter.com.
All information provided in this document is subject to legal disclaimers © Digital Matter 2019
R